_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{"C+bu":function(e,t,n){"use strict";var a=n("nKUr");n("q1tI");t.a=function(){return Object(a.jsx)("footer",{role:"contentinfo",children:"I-credit.kz \u24c7 2021"})}},RNiq:function(e,t,n){"use strict";n.r(t);var a=n("nKUr"),c=n("dstC"),s=n("C+bu"),r=n("q1tI"),i=n("/MKj"),o=n("vDqi"),l=n.n(o),m=n("p46w"),u=n.n(m),j=function(e){var t=e.user,n=e.active,c=Object(i.c)(),s=Object(r.useState)(""),o=s[0],m=s[1],j=Object(r.useState)(""),d=j[0],b=j[1],h=Object(r.useState)({name:t.name,email:t.email}),O=h[0],p=h[1];return Object(a.jsx)("div",{role:"main",children:Object(a.jsx)("div",{className:"container row ",children:"info"===n?Object(a.jsxs)("form",{onSubmit:function(e){return function(e){l.a.put("".concat("http://37.18.30.37/api","/editOwn"),{token:u.a.get("admin_token"),email:O.email,name:O.name},{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){e.data.success?c({type:"ADM_SUCCESS_MESSAGE",payload:e.data.message}):c({type:"ADM_ERROR_MESSAGE",payload:e.data.message})})),e.preventDefault()}(e)},className:"col-md-9 mb-3 mx-auto formsStep",children:[Object(a.jsx)("h2",{className:"text-center mx-auto",children:"\u041b\u0438\u0447\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(a.jsxs)("div",{className:"row col-12 form-group mx-auto",children:[Object(a.jsx)("label",{htmlFor:"name",children:"\u0418\u043c\u044f:"}),Object(a.jsx)("input",{onChange:function(e){return p({name:e.target.value,email:O.email})},className:"form-control focus-visible",value:O.name})]}),Object(a.jsxs)("div",{className:"row col-12 form-group mx-auto",children:[Object(a.jsx)("label",{htmlFor:"name",children:"Username:"}),Object(a.jsx)("input",{onChange:function(e){return p({name:O.name,email:e.target.value})},name:"username",className:"form-control focus-visible",value:O.email})]}),Object(a.jsxs)("div",{className:"row col-12  form-group mx-auto",children:[Object(a.jsx)("label",{htmlFor:"name",children:"\u0420\u043e\u043b\u044c:"}),Object(a.jsx)("input",{className:"form-control focus-visible",value:t.role_name,disabled:!0})]}),Object(a.jsx)("div",{className:"button-admin form-group",children:Object(a.jsx)("button",{type:"submit",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})})]}):Object(a.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),o&&d||c({type:"ADM_ERROR_MESSAGE",payload:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u0435"}),d!==o?c({type:"ADM_ERROR_MESSAGE",payload:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u043e\u0434\u0430\u044e\u0442"}):(c({type:"ADM_CLOSE_MESSAGE"}),l.a.get("".concat("http://37.18.30.37/api","/changePassword"),{params:{token:u.a.get("admin_token"),password:o}},{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){e.data.success&&(m(""),b(""),c({type:"ADM_SUCCESS_MESSAGE",payload:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d \u043f\u0430\u0440\u043e\u043b\u044c"}))})))}(e)},className:"col-md-9 mx-auto formsStep",children:[Object(a.jsx)("h2",{className:"text-center mx-auto",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(a.jsxs)("div",{className:"row col-12 form-group mx-auto",children:[Object(a.jsx)("label",{htmlFor:"password",children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(a.jsx)("input",{name:"password",onChange:function(e){return m(e.target.value)},className:"form-control focus-visible",value:o})]}),Object(a.jsxs)("div",{className:"row col-12 form-group mx-auto",children:[Object(a.jsx)("label",{htmlFor:"password_repeat",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(a.jsx)("input",{name:"password_repeat",onChange:function(e){return b(e.target.value)},value:d,className:"form-control focus-visible"})]}),Object(a.jsx)("div",{className:"button-admin form-group",children:Object(a.jsx)("button",{type:"submit",children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})})]})})})};t.default=Object(i.b)((function(e){return{adminReducer:e.adminReducer}}))((function(e){var t=e.adminReducer,n=Object(r.useState)("info"),i=n[0],o=n[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)(c.a,{}),Object(a.jsx)("main",{role:"main",children:Object(a.jsxs)("section",{class:"panel important",children:[Object(a.jsxs)("div",{className:"d-flex mb-3",children:[Object(a.jsx)("button",{onClick:function(){return o("info")},className:"info"===i?"btn btn-secondary  mr-2":"btn btn-dark mr-2",children:"\u041b\u0438\u0447\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(a.jsx)("button",{onClick:function(){return o("password")},className:"password"===i?"btn btn-secondary  mr-2":"btn btn-dark mr-2",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]}),t.authenticatingUser?Object(a.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430.."}):Object(a.jsx)(j,{active:i,user:t.user})]})}),Object(a.jsx)(s.a,{})]})}))},dstC:function(e,t,n){"use strict";var a=n("nKUr"),c=n("q1tI"),s=n("nOHt"),r=n("/MKj"),i=n("p46w"),o=n.n(i),l=n("vDqi"),m=n.n(l),u=n("WEkO");t.a=Object(r.b)((function(e){return{adminReducer:e.adminReducer}}))((function(e){var t=e.adminReducer,n=Object(s.useRouter)();return Object(c.useEffect)((function(){void 0===o.a.get("admin_token")&&n.push("/login")}),[]),t.user.name,Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u.a,{}),Object(a.jsxs)("header",{role:"banner",children:[Object(a.jsx)("h1",{children:Object(a.jsx)("a",{className:"logo",href:"/",children:"I-credit"})}),Object(a.jsxs)("ul",{className:"utilities",children:[Object(a.jsx)("li",{className:"users",children:Object(a.jsx)("a",{className:"logo",href:"/",children:t.user.name})}),Object(a.jsx)("li",{className:"logout warn",onClick:function(){m.a.get("".concat("http://37.18.30.37/api","/logout?email=").concat(t.user.email),{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){n.push("/login"),o.a.remove("admin_token")}))},children:Object(a.jsx)("a",{href:!0,children:"Log Out"})})]})]}),Object(a.jsx)("nav",{role:"navigation",children:Object(a.jsxs)("ul",{className:"main",children:[Object(a.jsx)("li",{className:"edit",children:Object(a.jsx)("a",{className:"/smscenter"===n.pathname?"active":"",href:"smscenter",children:"SMS-Center"})}),Object(a.jsx)("li",{className:"comments",children:Object(a.jsx)("a",{className:"/telegram"===n.pathname?"active":"",href:"telegram",children:"Telegram"})}),Object(a.jsx)("li",{className:"users",children:Object(a.jsx)("a",{className:"/users"===n.pathname?"active":"",href:"users",children:"Manage Users"})})]})})]})}))},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["vlRD",1,2,0,3,4]]]);